{"version":3,"sources":["../src/types.ts","../src/Observer.ts","../src/utils.ts","../../node_modules/process/browser.js","../src/Component.ts","../src/Store.ts","../src/index.ts","store.ts","components/form.ts","helpers.ts","components/list.ts","app.ts"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask"],"mappings":";AGAA,AGAA;AHCA,IAAIA,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,EAEA;AACA;AACA;AACA;AMNA,AFAA,IEAM,AFAN,MAAA,GAAA,CEAgB,GAAG,GFAnB,CAAA,GEA0B,EAAP,GAAY,EAAZ,EFAnB,CEAoC,AFApC,EEAA;ANQA,IAAIC,gBAAJ;AACA,AHHa,ASJb,AFeA,IJRIC,GHHS,AOWb,CPXa,AOWb,CEfgB,GTIH,GAAQ,AOWrB,GAAe,GPXY,ASJ3B,CNOA,AHH4B,AOWT,EEfyB,CTIvB,CAAW,EOWb,CAAA,KAAJ,CAA4C,CPXtC,CAAR;AACA,AEPb,AOE4C,AFgB1C,EAAA,ELlBF,EOE6B,CTKhB,AOWN,CPXM,CSL+B,AFgBnC,ELlBT,EFOa,AOU8C,CLjB3D,EFOsB,KEPtB,CFO4B,AEP5B,CFO6B,GAAP,CAAW,IEPjC,CAAA,EFOsB,CAAT,6CSLsB,SAAS;ANS5C,AHMA,ASdE,AFgBA,EAAA,OJROC,AMRA,AFgBA,EAAE,EEhBE,OAAJ,CAAY,INQrB,AIM2D,GJN/B,GMRG,EAAV,EAAY;ANS7B,ADHJ,AOLI,AFgBF,QJRQ,AMRF,CPKQ,GCGFC,ADHd,GAA4B,ECGlB,AMRO,CNQG,EMRA,MAAM,CAAC,OAAP,CAAe,GAAf,CAAhB,YNQM,CAAN;AACH,AHKD,AET4B,AST5B,ADAA,ADMI,AFeF,EAAA,EPHU,AWlBZ,ADAA,ERSoB,AKYd,EAAE,CLZoB,CST5B,ADAA,CDMW,EENX,ADAA,GVkBA,ISZoB,GAAG,EAAE,CAAC,EEN1B,ADAA,CCAA,ADAA,CDMyB,CAAL,GAAc,EENlC,ADAA,ADMoC,CENpC,ADAA,ADMqC,KAAD,CAAhC,MENJ,CAAA,CAAA,CDAA,CAAA,CAAA,0BRS0B,EAAE;AAC1B,AOHC,AFeC,GEnBK,CAAP,AFmBE,KLZK,CKYC,EAAE,CLZC,CAAC,GKWN,GLXC,GAAc,QAAd,CAAuB,EAAvB,EAA2B,MAA3B,CAAkC,CAAlC,EAAqC,GAArC,CAAP;ACIF,AHIA,AEPC,ASVD,ADAA,ADOC,AFeG,CPLJ,GWjBA,ADAA,AHsBI,KJTKC,AISA,CItBT,CXiBY,AOKD,EItBX,ADAA,AHoBQ,CAGJ,EGvBJ,OViBA,AUjBA,CAAA,CViBwB,GGJxB,AQbA,CAAA,ERagC,KQbhC,ADAA,CCAA,ADAA,mBCAA,CAAA,CAAA;ARcI,AHIF,EAAA,MGJQ,IAAID,EHIZ,CAAA,EGJQ,CAAU,IHIlB,CAAA,GAAA,OAAA,oBGJQ,CAAN;AACH,AHIC,AEXF,ASPA,ADAA,ADAA,AFmBQ,EPDN,COHyD,CIf3D,ADAA,GROA,AOPA,CPOA,AOPA,EEAA,CTOA,AQPA,ECAA,CXkBE,AEXF,AQPA,CVkBE,EEXF,GOPA,CTkBE,CAAA,CSlBF,ETkBE,GWlBF,CAAA,ADAA,CAAA,CVkBE,ISlBF,CEAA,CAAA,ADAA,CAAA,UAAA,CAAA,CAAA,EACA,ICDA,CAAA,CAAA;AXmBE,AOKA,EPLA,AOKA,OAAO,EAAE,GPLT,CAAA,KAAA,CAAA,GAAA,SAAA;AGJD,AHKA,AETD,ASVA,AFOA,AFiBI,CPTJ,EAAY,CWfZ,AJwBI,KLdY,AOHA,INOH,ADJb,ASVA,EXewB,AOQb,CLb2B,ASVtC,EXeY,KWfZ,CAAA,AFOA,CTQY,ASRoB,CTQpB,GSRZ,EAA8C,EAA9C,EEPA,AFOyD,CEPzD,EXeY,AWbZ,AJsBgB,IADL,CPRC,COSU,IADX,EPRC,AOSc,CPTd,YAAA,GAAY,EAAZ,CAAZ;AGAI,AHkFJ,AEvFsC,AQRtC,ADME,AFiBI,MJVE,ADLa,AOFf,CCNN,ADMO,CPE+B,AQRtC,GDME,EAAW,AFiBA,EGvBb,EHuBiB,CGvBF,AHuBG,IGvBC,CHuBN,CAAW,IGvBL,CAAA,CHuBN,CAAkB,KGvBhB,CAAM,IHuBW,CAAD,qCLfG,IAAI;ACM9B,ADLN,AQRA,ADOA,AFe6B,EGtB7B,IAAI,ADOE,CAAC,CNMG,AObJ,CRQC,CODG,GPCC,CQTQ,ADQL,CNMGE,AISmB,CAAC,CAAC,CEf5B,CAAS,CPCZ,CAAY,EODT,AFe0B,CEfpC,CNMU,GISuC,EJTjB,CDLZ,CKcS,MLdV,ECKb,ADLyB,ECKa;AAClCL,ADLR,ASTJ,ADCE,ADOA,AFc6B,EGrB7B,ERQE,ECKQA,AQdZ,AFQQ,CERR,ADCO,ADOE,AFcI,CAAP,CGrBG,CDOG,EAAE,CCTO,CRUP,ASTd,CTSe,ASTb,AFQe,GERjB,CAAM,AFQe,GNMO,ADLd,CODG,CPCO,AODE,CNMKK,AQd/B,CTSc,AODG,CPCb,ASTU,AFQA,GAAkB,IAAI,CNMxB,CQdE,CAAA,CFQkB,EAA9B,SERF,GAEA;ARaS,ADLN,AQRD,ADQA,AFaG,EGrBH,CRMO,CFuFa,AEvFpB,CCKM,CMHA,CCRD,EAAE,CDQG,CNKG,EMLA,GCRN,CAAA,ADQU,CAAC,GAAL,CAAS,CAAC,CCRhB,ADQiB,CCRX,OAAN,CAAc,CAAC,CDQA,EAAT,EAA0B,CAAC,CCRnB,ADQoB,CCRlC,CAHY,MDWoB,EAA1B,EAAwC,CAAC,CAAC,OAAF,EAAxC,CAAb;ANMUL,ADLX,ASRD,ADAE,ADQA,AFSS,EGjBT,CHQyD,CIRvD,ERaQA,AMLJ,IERJ,ADAM,ADQE,CERR,CDAQ,CACR,ADOW,IAAI,CERnB,AFQoB,CERd,EFQS,CNKa,AMLJ,CAAC,CAAC,CNKKE,UMLP,EAAT,EAA0B,CAAC,CNK9B,AML+B,QAAF,EAA1B,EAAwC,CAAC,CAAC,OAAF,EAAxC,CAAb;ANMO,AQbP,ADDU,ADSV,AFaA,EIrBA,AJqBA,CG1BmB,GCKf,AFQE,EERA,CJqBC,CEbG,CFaD,EItBL,AFSS,IAAI,CAAC,KAAL,CAAW,CAAC,IAAI,GAAG,IAAR,IAAgB,UAA3B,CAAb;ANMG,ADXL,ASFE,ADCA,ADQA,AFYE,EGpBF,CPME,CAME,AIQF,EEZE,CPPN,AOOO,CPPP,EQRqB,CPmBRI,AMJX,CNII,ADXN,COOa,CNIG,CDXhB,IAAA,COOoB,CFWT,MEXE,gBCRoB,OHoBX,IADX,EACiB,IADjB,EACqB;AJPxBN,AH4ER,AWzFE,ADA+B,ADS/B,AFYI,IJREA,EMJF,AFYA,CPoEN,CAAA,AUzFa,EDSH,AFYA,CAAC,EEZE,CTgFb,AShFE,CCT+B,CDSjB,AFYV,CPoEN,EOpEmB,CJRK,GAAGE,AH4E3B,AUzFa,AHqBU,CAAC,KAAL,CGrBc,AHqBH,GEZJ,GFYP,CEZW,AFYO,CEZN,CNIvB,EMJkB,CAAS,IAAT,CAAV,AFYsB,CAAD;AJPhC,ADPL,ASNE,ADD+B,ADU/B,AFWmC,QGrBX,CROV,IQPiB,EHqBW,CAAC,CLd7C,AKc8C,CLdrB,IQPC,CHqBkB,EEX1B,CPHlB,CQPiC,CRO+B,AKcP,CEXvD,GFWmC;ALd2B,ASL9D,AFSD,AFUoC,MLdQ,CKc1B,CAAb,GLd0D,uEAAH,GAAG;ACQ5D,AF3BJ,ACoBE,ASLA,ADFE,AHqBC,EInBH,EVfF,EE2BQ,EOdE,ECEA,CVfV,CUeY,ADFE,ETbd,CSaiB,MTbjB,CAAA,ESaU,IAAO,GTbjB,CAAA,ISamD,GAAlC,EAAiD;APe1D,AF1BR,ACmBE,ASNY,ADFoD,ADHlE,AFqBW,IIhBG,GFLd,CNkBY,AQbM,AFLlB,EEKc,ADFM,EAA8C,GPe/CK,CQbL,CAAA,IDFM,EAA8C,ADHlE,CEKY,EFLZ,CNkBY,KAAwB,SMlBpC,CNkBQ,EAAwC;AACpCN,ADPV,ASPkB,ADF8C,AHIP,CAA5C,CAAf,EIFoB,ERcRA,EQdY,EAAJ,ADFI,IAA0C,ECE9C,CAAA,MDFI,CPgBM,GAAGM,AOhBiC,YPgBtD;AACH,ADPP,ASRU,ADFsD,GCJ5D,ERmBE,CDLF,IQVwB,CPiBf,EDPF,CQVqD,ERUlD,KAAd,EQV4B,IAAoC;APkBtDN,ADNV,ASTA,ADHgE,ECGhE,EVbI,EE4BMA,GDNH,CShBH,ADI8B,MAA8B,KRYzD,GCMqB,COlBM,EPkBHG,IOlBiC,KCG5C,UReV;AACH,AF5BP,ACsBE,ASVkB,ADFhB,QRYE,ASVK,CTUJ,CQZG,KCEU,CTUlB,CQZe,CRYD,EQZI,GCET,CDFa,MCEJ,YDFe,IAAX,cAA0B,IAA9C;APmBD,ADNC,ASVF,ADFE,GPYF,CAME,EDNA,IQZM,CPkBCE,CAAP,EAAU,ADNF,CAAC,IQZM,CRYf,CAAe,CQZG,GRYlB,CQZsB,CRYD,EQZI,ORYzB,OQZsB,GAAoB,EAA1C,wECGkB,OADpB;ARiBIL,ADNF,ASDH,ADXG,GCPA,CRyBEA,EDNF,IQZM,GRYC,GAAG,EQZI,ERYd,CQZiB,CPkBG,GAAGG,KOlBN,CAAA,aPkBf,EOlBe,CAAgB,MAAhB,CAAjB;APmBD,ADLC,ASFJ,ADXI,MRaA,UAAU,CAAC,YAAA,yHQb6H,SAAxI,iHACwF,GADxF,iBACiG,OADjG,mHAEuF,QAFvF,wJAG+G,EAH/G;APmBL,AF5BC,ACuBM,ASFN,ADPG,CPLJ,GAAD,COJI,GRkBI,OAAO,GAAG,EDvBG,GCuBb,QDvBN,EAA2C;AAAA,ACwBtC,ASFL,OTAc,EAEP,KAFO,CAAV;ACON,ADJK,ASFH,ADPE,SPaKI,UAAT,CAAoBC,GAApB,EAAyB,+DOZD,OADpB,wHAGI,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,GAAN,CAAU,IAAV,EAAgB,IAAhB,CAAqB,EAArB,CAAf,GAA0C,oBAH9C;APcA,AF9BiB,AC0BlB,ASFD,ADFC,GRLD,AQpBmB,GPiCbT,GF9Ba,WAAA,EE8BG,CF9BH,IE8BQK,OF9BR,GE8BjB,EAAqC;AACjC,AF/ByC,AC2BhD,ASFC,ADFA,ECEA,ADFA,MCtBI,CDsBG,EAAE,eCEF,SAxBH,EAwBY;AROV,AG5BR,AKsBI,ADFA,IJpBJ,AIoBI,KCEK,ERMMA,EQNX,CAAU,CLtBd,CImBW,EJnBX,GH4ByB,AQNrB,CRMsBI,EQPR,CROO,AQLrB,ERK2B,CAAN,CAAjB,IG5BR,CAAA,MIoBiB,CJpBjB,CAAA,CImBW,EACiB,UJpB5B,CAAA,CAAA;AH6BK,ADtBL,ASiBI,AHpCJ,AEiCM,GPImB,CAKrB,AK1CJ,GNmBA,CAAA,EMnBA,CEiCW,EFjCX,GNmBA,AQcM,CAAW,ERdjB,GQcM,CAAiB,GAAjB,CRdN,CMnBA,AEiC4B,CFjC5B,GEiCM,GAA6B,CFjCnC,AEiCoC,CFjCpC,IEiCyC,KAAL,CAAW,KFjC/C,AEiCoC,CFjCpC,AEiCqD,CFjCrD,EEiCoC,EAAsB,IAApD;AJpBN,AKwBG,ADHE,GCzBC,CLIN,CIkBW,MJlBX,GAAA,OAAA,CAAA,SAAA,CAAA;AJwBA,ASCE,AHrCF,AEkCI,ECGF,EHrCF,AEkCI,GC1BE,ET4BU,EDtBd,AOdF,CE8BW,EF9BX,GNoCA,CAAyB,MDtBnB,ECsBN,ASCO,CACH,CTF4D,CDtB9D,AOdF,CAAA,CPcgB,CSoBH,EAJF,CThBT,CSoBqB,CTpBM,AOd7B,CAAA,UAAA,CAAA,CAAA;AL0CI,AG9BK,AJwBuD,ASG7D,ADJG,GC3BA,GRkCE,AG9BC,AJwBoC,CCMpCT,AG9BA,IJwBuD,AQDrD,KAAL,CAAW,IJvBR,CAAA,AIuBH,CPOmB,EOPA,GPOKE,CG9BrB,CIuBqB,CJvBrB,IIuBgB,CAAW,EJvB3B,EAAA,CIuBgB,CAAiB,EPOjC,IAAyC,AOPzB,CPO0BF,AOPF,UAAC,CAAD,KPOzC,KAAgEK,UAApE,EAAgF,ADNvB,GAAG;ACOxDL,AG/BC,AJyBP,ASGA,AHtCF,AEiCiD,EJvBxC,AK4BP,ERGMA,GKzCR,CAAA,CGMM,GLIG,EAAA,CEVT,AEiC6D,CAAC,CAAC,CJvBtD,AEVM,CEiC8C,CPQrC,EKzCL,CLyCQK,COR2C,EAArB,EFjC9B,CAAA,CGsCV,GRGD,GKzCO,CAAM;AL0Cb,AF7BJ,AKHK,AJ0BP,ASGE,AHtCF,AEgC+C,EJvBxC,AETP,GFSO,CETH,CFSG,AIuBgB,CFhCjB,AEgCF,ETpBE,CE6BOA,GF7BH,AObS,KPaJ,EE6BQ,CAACI,AGhCjB,GHgCgB,CF7BR,CE6Bc,AF7Bd,CE6BQ,CAAjB,EF7BJ,EAAmB,OAAO,KAAP;AE8BlB,AF7BD,AKJK,AJ2BP,ASGE,AHtCF,AEgCG,EFhCH,INmCI,CMnCC,EGsCE,AHtCA,CPYD,CKJC,AJ2BE,ESGP,AHxCiB,CPcT,ACuBE,ASGA,CTHZ,IDvBe,EU0Bb,GAAoB,CAApB,CV1Ba,AKJR,AK4BA,CVxBQ,AKJR,AK+BL,KV3BA,EAAoB,AKJf,CAAA,CAAA,KLIsB,EKJtB,ELIe;AKJR,AJ6Bd,ASGE,AHvCF,AEyBS,EFzBT,CEDmB,IFCd,ENoCE,AMpCA,YNoCA;ACKL,AF5BA,AInBJ,ACaS,AJ8BL,ASGA,AHvCA,AEgCF,CJ1BO,CI0BP,ELvCF,AH2CI,AMpCA,ELwCI,EO1Ca,ETcb,AOZE,CPYF,AInBR,CJmBQ,AOZI,EPYJ,AInBR,EH2CgB,CDxBR,ACwBS,AMrCR,IHNT,CJmBa,AInBb,AH2CgB,CDxBF,ACwBV,IDxBS,CAAL,ASoBA,GLvCR,CAAA,EJmBmB,IAAX,IAAW,EAAA,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAW,EAAA,CAAE,WAAb,MAA6B,MAA7B,IAAuC,KAAK,CAAC,OAAN,CAAc,KAAK,CAAC,IAAD,CAAnB,CAA3C,EAAuE;AE6BnE,AF5BF,ACyBF,ASEA,AHvCA,AEgCA,IRKA,AMrCA,KNqCK,AQLA,CFhCC,ENqCE,AMrCA,CEgCR,CAAU,CTpBD,EOdJ,EPcQ,ESoBb,CRKkB,CAAC,CDzBV,CAAU,KAAK,CAAC,IAAD,ACyBL,CDzBV,EAAuB,IAAvB,CAAP;AE6BE,AF5BH,AIpBL,ACaA,AJgCM,ASEF,AHvCA,AEgCD,GApCkB,CLJrB,AGQI,ENqCE,EMrCE,EAAE,CLwCKT,CGnCf,CAAA,AJgCa,CG7Cb,AH6Cc,GG7Cd,AH6CM,CAAY,EIhClB,CAAA,CJgCM,EG7CN,CAAA,EFgD+B,CAACS,EGnChC,CHmC+B,AGnC/B,EHmCqC,AGnCrC,CHmC+B,CAAvB,EEhDR,CAAA,ECaA,CAAA;AHoCK,ADHC,ASEH,AH3CM,AEoCP,EAAA,CPKE,AQtCE,AHNe,CL+Cf,EDHA,GQ1Ce,EP6CTH,CAAN,EAAQ,ADHA,CAAC,KAAT,CAAe,IAAf,EAAqB,GQLlB,MRKH;ACIE,AF5BJ,AIrBJ,ACaA,AJiCK,ASEH,AHvCA,AEgCE,ECOF,AHvCA,EHTF,CH2CsB,EAGf,CCGK,CORH,CFxCY,CHDrB,AMOM,CLMN,AJ8BsB,CDtBX,AKRX,AJ8BI,AQFA,CLzCJ,AKyCc,MTpBI,AKRlB,CLQmB,AIrBnB,ACaA,AI4BI,CLzCJ,EJqBW,ASoBa,CTpBD,ASoBnB,KTpBO,AKRX,CDbA,ACaA,CLQ8B,AIrB9B,CCaA,CKmCW,CACP,CV5BO,CAAP,GKRJ,CAAA,EEJ4D;ALyChD,AF5BT,AIPH,AHgCG,ASGC,AHzCwD,AEiCzD,GRFD,KM/BW,IAA+C,QAA/C,IAA+C;AL0ChD,AGpCZ,AJiCC,ASGG,AH1CwD,AENvC,CAAN,CAAf,EJYI,CAAC,GENc,GFMR,CAAC,AENgD,CL0CzCN,CGpCnB,EAAgB,IENG,EFMG,CAAC,CENqC,CFM5C,GAAY,CHoCO,CAACU,AGpCpB,IHoCG,CAAsB,IAAtB,EAA4BD,GAA5B,EAAiC,CAAjC,CAAP;AACH,AGnCT,AKmCI,AH3CwD,KLwCpD,CAGE,CGnCV,CAAA,AERyB,KL2CTH,CAAN,CGnCV,AER4D,CL2C1C,EGnCH,KERU,MFQV,CAAA,AER6C,OFQ5D;AHoCY,AEpCZ,AHkBA,ASkBI,AH5CwD,IHQtD,GHkBN,CAAA,AM1BsC,CHQ3B,EJOT,GOf0D,EN0B5D,GAAA,IM1BsC,CPehC,GCWN,EDXE,AOf0D,EPe5C,IAAd,EAA6B,KAA7B,EAAuC;AE8B7B,AF7BR,AIRO,AMqCR,AH7CyD,QAAd,EPgBtC,GE6BWN,CK7CyC,CPgB/C,CAAC,IAAD,CAAL,EOhBsC,GPgBtB,GE6BW,AK7CyB,CL6CxBU,CF7BhC,EAA2B,CE6BZ,CAAsB,IAAtB,CF7BmB,CE6BSD,GAA5B,AF7BY,EE6BqB,CAAjC,CAAP;AACH,AF7BJ,ACwBL,AS3CM,AHEsD,CGF5D,EAgDG,GV7BE,EUnBL,AHEsD,CNyCtC,ASKP,EV7BC,CAAC,AOjBiD,ENyC5D,CAAsB,AS3CtB,CVmBU,CAAL,ECwBL,CDxB8B,CCwBC,AMzCuB,IPiBjD,AOjBuD;AL+CvD,AEvCM,AHkCT,AMzCE,MNyCE,EMzCI,KAAK,GAAG,IAAI,IAAJ,GAAW,WAAX,GAAyB,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAd;ALiDH,AFhCG,ACyBA,AMzCA,QAAM,GPgBD,MOhBU,GAAG,EPgBlB,CAAiB,GOhBO,GAAG,EPgB3B,OOhBwB,GAAe,EAAvC;AHuBF,AHmBE,AMzCA,QNyCM,AMzCA,MNyCK,GAAG,CMzCE,GNyCE,AMzCC,CNyCA,KAAL,AMzCW,CNyCA,EMzCG,ENyCC,AMzCJ,CNyCK,EMzCG,ONyCR,CAAe,EMzCxC,ENyCyB,CAAX,CAAd;ACOJ,AFhCI,AOfA,QAAM,CL+CDE,IFhCE,IAAP,EOfiB,GAAG,CAAC,CL+CzB,CAAyBC,IK/CD,EL+CxB,AK/CiC,EL+CA,QK/CT,EAAqB,MAArB,CAA4B,UAAC,GAAD,EAAM,GAAN,EAAa;ALgD7D,AFhCD,ACyBC,AMxCE,ML+CEX,IK/CI,CNwCD,MAAP,CMxCgB,GAAG,GL+CG,CK/CC,IL+CIM,CK/CC,GAAT,GAAe,KL+ClC,EAAyC,GK/CtB,GAA4B,EAA7C;ALgDE,ADPL,AMxCG,GNoCJ,CAIE,OAAO,CAAP,CMxCS,CNwCC,EMxCE,qBAAc,QAAd,sBAAiC,GAAjC,gBAAyC,GAAzC,cAAV;ALgDE,AEzBN,AHkBE,AMxCC,KAHmB,EAGjB,EAHiB,CAApB,CLkDWA,ADPJ,IAAP,EGlBU,MFyBa,CAACK,AEzB1B,EAA0C,IFyBjB,CAAnB;AACH,ACjEL,ACuC4C,AHmBzC,AMvCC,GL0C6B,CAK7B,AClEJ,OHgCE,GGhCF,GAAA,OAAA,CAAA,UHgCiB,EGhCjB,CAAA,EHgCE,EAAyB,IAAzB,EAAsC,4COZX,OADzB,+QAKgF,IALhF,8NAO+C,IAP/C,sBAO6D,KAP7D,+JASyC,UATzC,+LAY6B,SAZ7B,yKAasE,WAbtE;APcA,AC0BH,AMvBE,GAlCkB,UP+BV,KAAK,CAAC,IAAD,CAAZ;AGhCJ,ACsC4C,AGF1C,EAAA,EJpCF,KIoCS,EJpCT,AIoCW,GJpCX,OAAA,CAAA,SAAA,CAAA;ADkEI,AFjCA,ACiBJ,AMbU,IAAA,EL6BF,CAACX,ADhBT,CAAA,GDjBS,COGE,CNcX,GAAA,KAAA,CDjBI,CAAiB,EEiCM,KAAKG,CFjC5B,GOIc,eL6BT,IAA8C,CAACH,kBAAhD,KAAuEM,YAA3E,EAAyF;AACrFN,ACxDR,AFiDa,ICOLA,ACxDR,GFiDa,CAAA,GEjDb,GAAA,EFiDa,GAAW,EEjDxB,CDwD0B,ACxD1B,GDwD6BM,MCxD7B,CAAA,KDwDQ;AACA,AChDR,AHcI,AC2BF,EAAA,GADsB,MCQTA,EFlCJ,IAAP,GC2BE,GCOqB,CAACK,ADRJ,EACP,ICOU,CAAnB;AACH,AChDL,AHcG,AIIC,AHuBA,WAAO,IAAI,MAAJ,cAAiB,IAAjB,0CAA2D,GAA3D,CAAP;AGpCM,AHqCP,UGrCO,UAAA,GAA2B,IAAI,GAAJ,EAA3B,CAYkC,CAGxC;AF6BA,ADVoB,CAAX,EAMb,GCIQ;AACA,AChDR,ACmBI,AHyBJ,IE5CM,MCmBG,CJlCP,EGea,ECmBX,CDnBW,ECmBE,CAAA,OJlCqB,AIkCd,CDnBT,GHfb,CIkCsB,CJlCuB,GIkC9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kCKH,QAAD,IAAa,CAACC,EFrDb,COC8B,KAAK,ILoDxC,CKpDmC,CLoDH,AKpDc,WAAX,CAAN;ALqDzB,AFtDC,AI0BL,QAAI,CAAC,EAAC,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,OAAV,CAAL,EAAwB;AF6BvB,AE5BC,AHqBN,SAAgB,GGrBL,OAAL,CHqBN,CAA4B,CGrBP,AHqBrB,EAAoC,CAApC,EAA4C,EGrBvB,CAAA,AHqBrB,EAAgE,aGrB3C,CAAmB,OAAO,CAAC,OAA3B,EAAoC,MAAK,KAAzC,EAAgD,MAAK,GAArD,CAAf,CADsB,CAEtB;ADRF,AHpBK,ACiDP,MAAI,CAAC,EE7BE,CF6BH,IAAQ,CAAC,GE7BX,EF6BgB,CE7BC,AF6BA,OE7BO,AF6Bb,CAAc,GAAd,CE7Ba,AF6BtB,IE7Be,AF6BgB,CAAC,GE7BjB,AF6BoB,CAAC,ME7Bd,AF6B1B,EAAgD,GE7BtB,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,QAA1B;ADoCAD,ACnCA,ACQE,AHqBF,ECMAA,MCnCI,CAAC,CDmCG,CDND,CGrBA,CF2BI,CCnCD,CF6BC,CAAC,CGrBV,CF2BF,EE3Be,GDRf,EAAqB,AF6Bd,CGrBa,AHqBE,CAAf,KEzC+B,CActC,ACMe,AHqBc,CGrBD,GHqBK,CAAC,EGrBD,KAAlB,EAAyB,AHqBX,CAAe,CAAf,CAA7B,CGrBe,CAAb;AACD,AHqBF;ACMC,ACjCA,AHvBA,MEwDIC,ECjCA,CAAA,GHvBJ,IGuBW,EDiCK,AFxDhB,CEwDiBG,ECjCN,AHvBF,IEwDT,ACjCI,EDiCqB,ECjCrB,AHvBa,CAAC,KAAlB,CGuBW,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,KAAT,aAA0B,OAAA,CAAA,MAA9B,EAAsC;ADkClCL,ACjCF,AHzBG,AIFmC,AHuD1C,ICKMA,KAAK,ADLJ,GCKOE,ADLJ,CAAC,KAAJ,CAAU,KCKS,CAACI,IDLT,ECKJ,CAAoBN,ADLjB,EAAQ,GCKX,CAAR;AACH,ACjCC,AHxBH,AI6BA,AHuBC,GCGA,KDHM,CCKC,GDLG,GAAG,OAAO,GAAP,KAAe,IE5BF,MF4Bb,CE5BoB,CAAC,CF4BO,GAAG,CE5BlB,AF4BmB,CE5BL,AF4BI,CAA/B,GAAqC,CAAC,CAAC,GE5B1B,AF4ByB,CE5BD,AF4BlD,IE5B0B,CAAxB;ADkCEG,AClCF,ACOJ,AHsBE,ICKIA,IDLE,KAAK,CCKG,EDLA,CCKG,CAAC,CAAd,IDLiB,GAAP,KAAe,UAAf,GAA4B,GAAG,CAAC,CAAD,CAA/B,GAAqC,CAAC,CAAC,GAAD,CAApD;ACMC,ACnCC,AH1BJ,ACyDE,UE/BS,CF+BF,GE/BL,CF+BS,CAAC,SAAL,CAAe,IAAf,MAAyB,IAAI,CAAC,SAAL,CAAe,KAAf,CAAhC;AE/BE,AH1BJ,AC0DC,GALM,CDrDc,ACqDrB,ME3BiB,KH1BjB,EG0BI;ADoCF,AF3DH,ACwDA,MCGOH,KAAK,CAACK,MAAV,EAAkB;AACdE,ACpCF,IDoCEA,OCpCG,GDoCO,gBCpCZ,GAA2B,OAA3B;ADqCD,ACpCC,AH7BN,AItBW,AHuEX,AM3CM,OPNN,ACiDA,CDjDA,ACiDA,GEpBW,KIvBL,CJuBA,EH7BN,ACiDA,CEpBoB,EH7BpB,ACiDA,CM3CM,CJuBA,AIvBA,OAAA,CAAM,CPNZ,ACiDA,GM3CM,CAAW,KAAX,CAAiB,IAAjB,CAAsB;AL4D3B,ACpCI,AHxBL,AI5BW,AG6BH,KJkBJ,EHnBJ,CAAA,GGwBW,IAAI,AHxBf,GAAe,AOCP,IJuBc,EIvBR,EPDd,AOCgB,CJuBM,GIxBM,CJwBb,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,KAAb,EAAoB;AACzB,ACrDK,AHoFX,AMtDQ,SH6BN,AHyBc,OAAhB,EMtDQ,CNsD6C,CMtD3C,EAAE,EH6BF,EG7BM,CAAC,GAAL,EAFgB;AL8D5B,ACpCM,ACMF,AHwBiD,AMrD7C,MNqDgB,EAA6B,CCM5CA,SK3DD,CL2DR,GAAsB,AK3DV,EAAE,KAHc,kDNwDmB,MAAM;ACOjD,ACpCE,ACMF,AHwBF,AMrDM,ML2DAN,ACpCF,AF8BA,IAAJ,GE9BW,ACMF,CF8BP,ACpCU,EDoCI,EE9BF,AG7BR,IJuBF,AIvBM,CJuBW,CIvBf,IH6BG,GAAkB,IDND,GCMC,CAAA,KAAA,CAAM,KAAK,KAAX,CAAlB,GAAsC,KAAK,KAAlD;AF+BI,AE9BL,AGlCyB,iBAAtB;ALiED,AE7BH,AHuBA,AMpDI,MNoDA,OAAO,EAAP,KAAc,CMpDT,IAAL,CAAU,ENoDd,EAA4B,AMpDxB,GAAiB,EAAjB;AJqBE,AFgCJ,AMpDE,INoDF,IEhCI,AFgCA,GAAG,EEhCC,AFgCR,CEhCS,MAAL,CIpBG,EJoBW,CAAA,EAAA,AIpBhB,CAAW,EJoBK,IIpBhB,CJoBoB,CAAC,CIpBD,KJoBJ,AIpBhB,MJoB2B,IAAX,IAAW,EAAA,KAAA,KAAA,CAAX,GAAW,KAAA,CAAX,GAAW,EAAA,CAAA,IAAA,CAAX,KAAW,EAAG,OAAO,CAAC,KAAX,EAAkB,KAAlB,EAAwB,CAAxB,CAAzB;ADsCJ,ACrCG,AFgCJ,GAFD,GCOMO,CCvCF,EFkCG,ICKM,ADLF,EAAE,CCKGb,ADLF,UCKY,ADLf,CCKgBS,ADLF,GAAd,CAAJ,EAAwB,SCKL,CAAxB;AACAH,ACrCC,AFgCD,ECKAA,EDLA,CE1DsC,CA4BtC,EF8BI,ECKI,CDLD,ECKI,IAAX,EDLe,CAAC,cAAT,CAAwB,EAAE,CAAC,KAAH,CAAS,CAAT,CAAxB,CAAP;ACOA,ADND,GAFM,GCQDQ,GAAG,ADNF,GCMKT,KAAK,CAACK,MAAhB;ADLA,IAAA,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,EAAvB,CAAP;ACMA,ACrCA,AFgCD,QEhCK,CDqCEI,GAAN,CCrCS,CDqCE,KCrCX,EAAiB;ADsCbP,ACrCF,IDqCEA,OCrCG,KDqCS,GAAGF,GCrCjB,EDqCE,CCrCiB,OAAA,CAAA,KAAA,CAAM,KAAK,MAAX,CAAnB;ADsCEA,ACrCH,AC/DM,AH+FT,ICKMA,CCpEkC,CAiCtC,AF8BE,CAAC,ECKM,EDLX,CCKc,CDLH,CCKL;AEpGG,AHgGP,IAAA,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAP;ACKI,AErGG,AHiGP,AM5DC,IN4DD,CM9EO,MLkFI,AE9Bb,CH0BU,CCIKG,ADJJ,IAAT,CAAc,KCIH,CE9BT,EF8BwBM,GAAtB,ADJJ,CG1BF,AH0B4B,CCIK,CE9BZ,EH0BnB,KG1BF,EAAkC;AF+BxB,ACpCR,AFgCD,AM5DC,IAAA,IJ4BI,EDoCQP,EKnFL,GJ+CI,KAAA,EDoCH,EAAkB,ACpCtB,IAAA,II5BK,GJ4BE,AI/CJ,EAmBa,GJ4BT,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,OAAb,EAAsB;ADqCVA,ACpCV,AI5BA,QLgEUA,GCpCL,AI5BA,IJ4BI,AI5BT,CAAU,GJ4BV,CDoCsB,AKhEtB,CLgEuBC,ECpCN,AI5BA,GAAjB,IJ4BwB,CDoCF,ACpCG,CDoCf,CAAyBO,GAAzB,ECpCV,EAAkC;ADqC3B,ACpCL,ACIJ,AH4BF,QEhCM,CFgCC,CG5BD,EAAC,CAAA,AH4BP,CEhCY,CAAC,ACIN,EDJD,CAAU,ACIT,KDJc,ACIT,KDJN,EAAsB,CCIrB,GDJD,GCIc,CDJgB,GCI7B,IDJoC,ACIvB,CDJwB,CCIxB,KAAA,CDJgB,CAAgB,GCIhC,CDJgB,ACI7B,EDJmD,CCItC,GDJgB,CAA2B,CCI3C,CAAb,EDJ6B,CAA9B,ACIc,EAAA,CAAG,MAAH,CAAd,CAAJ,EAA8B;AFiCzB,ACpCD,ACIF,AH4BL,AM5DK,SHgCA,CGhCI,CHgCJ,EDJO,AI5BA,CHgCP,AGhCQ,KHgCH,CDJH,AI5BE,CJ4BW,CCIf,EGhCkB,CJ4BhB,AI5BiB,GHgCX,CDJe,CI5BC,EHgCxB,GGhCmB,CJ4BW,ACItB,AGhCsB,CJ4BC,CCIvB,IGhCR,CHgCQ,CDJe,AI5Be,CJ4BC,GCI/B,CDJe,ACIvB,EDJ6C,CCIrC,GDJe,CAA2B,CCI1C,CAAR,EDJuB,CAArB,ACIM,EAAA,CAAA,IAAA,CAAR,IAAQ,2BAAqB,MAArB,GAA+B,MAA/B,CAAR;ADHC,ACIF,AGhCG,aAAK,KAAL,CAAW,MAAX,GAAoB,IAApB;ALgEAP,ACnCH,AFaL,AMzCO,IL+DCA,CC1EkC,CAyCtC,CFWJ,AM3CM,CN2CN,KMzCa,CL+DK,CDtBlB,ECsBqB,AK/DJ,CL+DK,ADtBtB,AMzCkB,CL+DV,EK/Da,CAAC,GNyCtB,GMzCiB,IAAe,KAAK,KAAL,CAAW,MAA9B,EAAsC;ALgE3CM,AE/BJ,AGhCI,IL+DAA,GAAG,GAAGT,GE/BH,AGhCE,CHgCF,CF+BQ,CAACK,AE/BT,EGhCH,CHgCG,AGhCQ,GL+DX,EE/BQ,CGhCR,GAAoB,IHgCjB,CGhCH,KHgCgB,IAAb,IAAa,EAAA,KAAA,KAAA,CAAb,GAAa,KAAA,CAAb,GAAa,EAAA,CAAG,MAAH,CAAA,CAAW,KAAK,IAAhB,EAAsB,OAAtB,CAApB;AFgCC,AE/BF,AH0BH,AM1DO,SN0DS,eAAhB,CAAgC,KAAhC,EAA+C,KAA/C,EAAyD;AE7BrD,ACKF,AHyBA,AM1DG,KA3BM,GJuDH,OAAO,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,QAAb,EAAuB,gEFgCd,KAFX,mBAEyB,KAFzB;ACKEH,AClCE,AFgCL,AM5DG,EL8DAA,EK9DA,OJ4BO,EIxDA,CL0FK,GAAG,GClCb,CDkCF,EClCmB,EAAjB,SI5BQ,GA5BH,EA4BM;AL+DbD,AK9DE,EL8DFA,QAAQ,CK9DD,EL8DI,EK9DT,CAAU,EL8DZ,EK9DE,GAAiB,GAAjB;AL+DFH,ACnCE,AF2BN,AMtDK,EL8DDA,GK5FO,ENoFX,CAAA,GE3BW,IAAI,EDmCI,CAACU,ECnCd,GF2BN,CE3BuB,CDmCJ,CAAf,ADRJ,KE3B8B,CAAC,QAAzB,CF2BN,CE3ByC;ADoCxC,ACnCO,AI3BJ,IAAA,MA/BO,GJ0DE,SAAL,CAAe,KAAf,AI3BG,GA/BA,CJ0DoB,CI3BjB;AJ4BJ,AF+BV,AM1DM,SN0DU,CE/BN,CI3BC,CJ2BC,EAAE,EI3BR,CAAW,IJ2BI,AI3Bf,CJ2BgB,EF+BtB,AM1DwB,CN2DtB,EM3DI,GJ2BQ,CAAiB,CF+B/B,EAEE,EEjCY,CADiB,CFgC/B,EAGE,MAHF,EAGiB;ACEjBxB,ACnCU,AFmCR,AM9DG,KAjCM,EL+FJ,CAAC2B,CDAC,CEnCC,KAAK,CDmCf,CCnCiB,EDmCE,ADAT,GErCqB,CFqCtB,EAAU,ICAUf,GAAV,ADAV,ECAyB,ADAM;ACCpC,ACnCM,AChFC,AHmHP,AM9DA,IAAA,EL8DIgB,EDAA,ECAI,ACnCF,EAAE,CDmCG,CCnCD,GDmCKC,CKhGR,GJ6DG,CDmCC,ACnCD,CDmCWC,ECnCX,CAAI,CAAJ,KDmCoB,CAACT,MAAV,GAAmB,CAA7B,CAAX,EK9Dc;AJwBa,AC7EpB,AHoHL,AM9DA,SJuBE,CFuCE,CM9DC,KAAL,CN8DA,AM9DW,EN8DE,IM9Db,GAAoB,CAAC,KAAK,KAAL,CAAW,MAAhC;AL8DF,AClCG,AClFI,AHqHH,AM9DH,KApCM,CLiGHS,KE/BN,CHgCU,GCDK,CAACT,CDCV,KCDA,EE/BF,CF+BqB,CAAvB,EAA0B,EE/B5B,EAAqB,OAArB,EAAiC;AFgC3B,AClCH,AI3BD,IAAA,CJxBsC,CAqDtC,GDgCS,IAAIU,AKlGN,CLkGO,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACT,AK7DxB,GArCH,EAqCqB,CL6DxB,EAAsCU,CAAC,EAAvC,EAA2C;AACvCH,ADCJ,AM9DF,ML6DMA,IAAI,AK7DN,CL6DOG,CAAC,ADCN,CM9DC,CAAC,CL6DO,CAAL,CAAJ,CK7DF,CN8DS,CCDOD,GK7DH,GN8DX,GCDuB,CAACC,AK7D1B,CL6DyB,ADCJ,CCDnB,EK7DsB,GAAG,CAAC,GN8D9B,CM9D0B,CN8DS,IM9DI,aAAzC,EAAwD;AL8DrD,AEjCL,AHkCM,AM9DF,UH4BA,AHkCE,EGlCD,CAAA,AG5BI,EH4BJ,AHkCM,GGlCN,AHkCS,EM9DV,CAAa,EH4BP,EHkCW,CAAC,GM9DlB,CN8DiB,CGlChB,AHkCC,MGlCY,IAAb,IAAa,EAAA,KAAA,KAAA,CAAb,GAAa,KAAA,CAAb,GAAa,EAAA,CAAG,MAAH,CAAd,CAAJ,EAA8B;AFkC7B,AClCD,ACCE,AHkCG,AM9DF,SJ2BE,ACCH,AHgCE,EGhCF,GAAA,CHkCS,EEnCX,ECCO,AHkCQ,CEnCC,ECCd,IHkCoB,CEnCC,CCCb,GHkCiB,CEnCJ,ACCrB,IDDc,ACCN,EAAA,EDDM,EFmCL,CGlCD,CHkC8B,GEnCjB,CCCb,CAAR,GDDqB,ACCb,KDDa,ACCb,CDDM,ACCd,GDDqB,ACCb,EAAA,CAAA,EDDa,CAAP,CCCN,CAAR,CDDc,GCCN,IDDa,CAAE,OAAzB,eCC+B,MAArB,GAA+B,MAA/B,CAAR;ADAF,ACCC,AHkCK,AM9DL,SJ2BI,CFmCC,KAAK,GAAG,CEnCd,GAAkB,AFmCZ,CADkC,CACpB,KEnCK,KAAA,IAAP,IAAA,OAAO,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,SAA3B;ADkCAf,ACjCA,AFmCK,AMxGE,ELsGPA,CKzIiB,ILyIZ,CAACgB,CCjCD,AFiCM,GCAX,CAAW,EDEA,CEnCX,CDiCeC,ECjCA,AFmCA,ECFJ,CAASrB,GAAT,CCjCW,AFmCA,CCFGgB,IAAd,ACjCW,AFmCK,CCF3B,GCjCe,IAAA,AFmCJ,EAA0B,KEnCf,KAAA,KAAA,CAAP,GAAO,KAAA,CAAP,GAAA,OAAO,CAAE,MAAxB;AACA,ACCA,AHkCM,AM9DR,EAAA,KH4BE,CG1GiB,CJyGZ,ACCL,CHkCM,EGlCN,GDDA,AFmCW,EGlCN,CDDS,AFmCA,IAAR,CAD+B,CACjB,CEnCC,ACCrB,CG5BK,IJ2BgB,AIzGJ,CH0GJ,CG5BJ,EJ2BK,CCCd,GDDc,CCCD,EAAA,IDDQ,CCCR,IDDQ,CCCR,CAAb,GDDqB,ACCR,CDDC,GAAO,CCCR,CAAb,GDDqB,ACCR,CDDC,CCCD,CAAG,CDDF,KCCD,CAAA,CDDQ,ACCG,CDDD,ICCM,CDD7B,CAzDsC,CA2DtC,ECDa,EAAuB,OAAvB,CAAb;AFgCA,AE/BD,AHkCM,AM9DL,ML2DIZ,GDCO,AM5DN,EL2DI,CAACK,CK3DV,CAAU,CN8DC,GCHP,GK3DJ,EL2DqB,CAAjB,IAAsB,CAACJ,QAA3B,EAAqC;AACjCN,AC/BJ,ACCF,AHiCQ,AM9DP,GAhFkB,CL2IbA,KC/BC,CFkCC,ICHQ,CAACY,AC/Bf,AFkCW,GElCG,AFkCA,KElCK,ED+BL,CAAV,GC/BU,CAAY,AFkCA,CAAC,GElCb,CAAiB,GFkCjB,CElCA,AFkCqB,CElCnC,GFkCc,CAAR;ACFL,AC/BF,AFkCO,AM9DR,EAAA,OAjFmB,KN+IP,KAAJ,EAAW,KAAK,GAAG,CM9DpB,GN8DwB,CAAC,KAAL,CAAW,KAAX,CAAR;ACFpB,AC9BC,AFiCO,AM9DL,CLgDJ,EAaA,MK7DS,IAAL,CAAU,OAAV,GAAoB,CAApB;AACA,SAAK,IAAL,CAAU,IAAV,GAAiB,EAAjB;AN+DI,AM9DJ,SAAK,GN8DG,CM9DR,CAAU,IAAV,EN8De,CM9DE,IN8DT,AM9Da,IAAJ,EN8DQ,CM9DG,ON8DxB,EAA+B,EM9DlB,GAAyB,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAjB;AL4DJ,ADGU,AM9DN,IAAA,KL2DKU,GK3DG,CL2DZ,AK3Da,CL2DCrB,EDGE,CCHhB,EAAmBsB,CDGC,ICHpB,CDGgB,CCHU,ADGA,GM9DtB,CAA0B,SAA1B,EAAqC,KAAK,EN8D9B,CAAN,IM9D+B,CAAa,SAAlD;AL4DA,ADGK,AM9DN,GAtFkB,ILiJZtB,GAAL,GAAWA,GAAX;AACA,AC5HW,ACNJ,AGuET,EAAA,KL2DOsB,IKlJY,CLkJjB,GAAaA,KAAb,cK3DO;AL4DV,AC7Hc,ACNJ,AHsIH,AM9DJ,IAAA,QAAQ,CAAC,EN8DE,MAAM,CAAC,IAAP,CAAY,IAAZ,CM9DX,CN8D6B,AM9DA,MN8DlB,CAAyB,EM9DpC,EAAwC,KAAK,CN8DR,CAAD,EAAO,CAAP,EAAqB,AM9DjB,CAAa,SAArD;AJlEW,ACNJ,AHuID,AM9DP,UN8DO,CGpCR,AHoCS,CAAC,CAAD,CAAD,GAAO,KAAK,CAAC,CAAD,CAAL,GGpCP,CHoCmB,GGpC3B,CHoC+B,CGpCL,AHoCM,CAAD,CAAvB;ACHVD,AC7BE,ACHE,AHoCM,AMxJW,CAAN,CAAf,ELoJI,CAACE,MEhCI,GFgCT,CAAeT,EDIE,CCJjB,ADIU,GCJW,AEhCjB,GAAkB,IAAlB,KFgC6B;AAC7B,AE/BA,AHmCK,OCJAd,EDCM,CCDX,CAASwB,ADIF,EGnCA,AHgCI,CAAP,ECDJ,CAAe,AE/Bf,IF+BA,EAAqB,KAAKF,KAA1B;AACH,AE/BE,AHmCI,CCNP;AC1BE,ACDA,mBDCS;AD6BXlC,AC5BI,AFiCE,OCLC,CAACqC,EDKE,GCLV,AC5BW,GD4BK,CDKC,CEjCD,MAAL,AFiCD,CCLV,GC5B2B,CFiCE,CEjCzB,SFiCE,EAAmC;ACHzCrC,AC7BG,AFiCK,OCJD,CA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","file":"app.c61986b1.js","sourceRoot":"../examples/todos","sourcesContent":["declare global {\n  interface Window {\n    $q: any;\n  }\n}\n\nexport const ORIG = (Symbol.for(\"ORIGINAL\") as unknown) as string;\nexport const PROXY = (Symbol.for(\"PROXY\") as unknown) as string;\n\nexport type Constructor = new (...args: any[]) => {};\n\n/** Mapped type */\nexport type Mapped<T> = Record<PropertyKey, T>;\n\n/** Log levels */\nexport type LogType = \"error\" | \"warn\" | \"log\";\n\n/** Log level color map */\nexport enum LogTypeColor {\n  error = \"coral\",\n  warn = \"gold\",\n  log = \"#5eba7d\"\n}\n\n/** Log data */\nexport type Log = Error | string;\n\n/** Logger function */\nexport type Logger = (message: Log | Log[], type?: LogType) => void;\n\n/** Persistence function */\nexport type Persister<T> = (data: Readonly<T>, initial?: boolean) => T;\n\n/** Persist adapter */\nexport type PersistAdapter<T> =\n  | ((data: T) => T | void)\n  | \"localstorage\"\n  | \"indexeddb\"\n  | \"websql\"\n  | boolean;\n\n// ---Observer-----------------------------------------------\n\n/** Dispatchable instance */\nexport interface IObservable {\n  dispatch: (initial?: boolean) => void;\n}\n\n// ---Store---------------------------------------------------\n\n/** Q Store listener interest updates */\nexport type ListenCtx<T> = (keyof T | ((data: T) => any))[]; //T[keyof T]\n\n/** Q Store listener list */\nexport type Listeners<T> = Map<IObservable, ListenCtx<T> | undefined>;\n\n/** Q Store setter */\nexport type Setter<T> = (\n  /** store data */\n  data: T,\n  /** payload */\n  payload: any\n) => void;\n\n/** Q Store getter */\nexport type Getter<T> = (\n  /** store data */\n  data: Readonly<T>,\n  /** payload */\n  payload?: any\n) => Partial<T>; //T[any]>; //|Pick<T, keyof T>>\n\n/** Q Store options */\nexport type StoreOptions<\n  T = Mapped<any>,\n  G = Mapped<Getter<T>>,\n  S = Mapped<Setter<T>>\n> = {\n  /** reactive data */\n  data: T;\n  /** store label */\n  name?: string;\n  /** allows logging */\n  debug?: boolean;\n  /** prevents direct data change.\\\n   * may be useful for scenario of changing data only by setters. */\n  immutable?: boolean;\n  /** persistense adapter.\\\n   * if a callback is provided, it will be called synchronously both to\n   * initialize the store and for each update.\\\n   * if callback uses initial data fetching, use the setter instead. */\n  persist?: PersistAdapter<T>;\n  /** store getters.\\\n   * typings have to be inplemented via type */\n  getters?: G;\n  /** store setters.\\\n   * typings have to be inplemented via type */\n  setters?: S;\n};\n\n/** Q Store abstract class */\nexport abstract class QStore<\n  T = Mapped<any>,\n  G = Mapped<Getter<T>>,\n  S = Mapped<Setter<T>>\n> implements IObservable {\n  abstract dispatch(): void;\n  abstract rewatch(deps: ListenCtx<T>): this;\n  abstract subscribe(listener: IObservable): [T, Function];\n  abstract get(getter: keyof G, payload?: any): T[any] | undefined;\n  abstract set(setter: keyof S, payload: any): void;\n}\n\n// ---Component--------------------------------------------------\n\n/** Function binded to Q Component */\nexport type BindedMethod<T> = (this: IQComponent<T>, ...args: any[]) => void;\n\n/** Q Component */\nexport interface IQComponent<T = Mapped<any>> extends IObservable {\n  state: T;\n  data: Mapped<any>;\n  methods: Mapped<(...args: any[]) => void>;\n  mount(el: string | Element): IQComponent<T>;\n  unmount(): void;\n  log?: Logger;\n}\n\n/** Q Component child */\nexport type Child = {\n  vm: IQComponent;\n  inUse: boolean;\n  id: string;\n};\n\n/** Q Component template function */\nexport type Template<T> = (\n  this: null,\n  /** static data */\n  data: Readonly<any>,\n  /** current state */\n  state: Readonly<T>\n) => string;\n\n/** Q Component options */\nexport interface ComponentOptions<T = Mapped<any>> {\n  /** allows extra logging */\n  debug?: boolean;\n  /** label component */\n  name?: string;\n  /** reactive state or store */\n  state?: T | QStore<T>;\n  /** template function */\n  template: Template<T>;\n  /** nested components */\n  children?: Mapped<IQComponent>;\n  /** methods for template */\n  methods?: Mapped<BindedMethod<T>>;\n  /** lifecycle hook fires before initial render */\n  mounted?: (this: IQComponent<T>) => void; //this: this & IQComponent<T>\n  /** async lifecycle hook fires after unmounting */\n  unmounted?: (this: IQComponent<T>) => void;\n  /** lifecycle hook fires before every non initial render.\\\n   * used for recompute computed values.\\\n   * return true for render prevention */\n  before?: (this: IQComponent<T>, prevState: Readonly<T>) => boolean | void;\n  /** lifecycle hook fires after every render.\\\n   * used for watch side effects */\n  after?: (this: IQComponent<T>) => void;\n}\n","import { ORIG, PROXY, Mapped, Constructor, IObservable } from \"./types\";\n\n/** Reactive dispatcher class */\nclass Observer<T extends Mapped<any>> implements ProxyHandler<T> {\n  /**\n   * Reactive dispatcher class\n   * @param {IObservable} _observable target for dispatching\n   */\n  constructor(public _observable: IObservable) {}\n\n  static watch<T extends Mapped<any>>(data: T, target: IObservable) {\n    const { proxy, revoke } = Proxy.revocable(data, new Observer<T>(target));\n    return [proxy, revoke];\n  }\n\n  get(props: T, prop: keyof T): any {\n    if (prop === ORIG) return props;\n    if (prop === PROXY) return true;\n\n    if (props[prop]?.constructor === Object || Array.isArray(props[prop])) {\n      return new Proxy(props[prop], this);\n    }\n\n    return Reflect.get(props, prop);\n  }\n\n  set(props: T, prop: keyof T, value: any) {\n    if (props[prop] === value) return true;\n    (props[prop] as object) = value;\n    this._observable.dispatch();\n    return true;\n  }\n\n  deleteProperty(props: T, prop: keyof T) {\n    delete props[prop];\n    this._observable.dispatch();\n    return true;\n  }\n}\n\n/** Observer class decorator */\nexport function withWatcher<O extends Constructor>(constructor: O) {\n  return class extends constructor {\n    $watch = Observer.watch;\n  };\n}\n\nexport default Observer;\n","import {\n  Mapped,\n  Logger,\n  Persister,\n  LogTypeColor,\n  PersistAdapter,\n  ListenCtx\n} from \"./types\";\n\nexport function uid(len = 11) {\n  return Math.random().toString(20).substr(2, len);\n}\n\nexport function wait(ms: number = 1000): Promise<void> {\n  return new Promise((release) => {\n    setTimeout(release, ms);\n  });\n}\n\nexport function throttle(callback: Function, limit: number = 100) {\n  // throttle: 1 2 _ 4 5 _ 7 8\n  // 1. run\n  // 2. timeout run\n  let waiting = false;\n\n  return function () {\n    if (!waiting) {\n      callback.apply(this, arguments);\n      waiting = true;\n\n      setTimeout(function () {\n        waiting = false;\n      }, limit);\n    }\n  };\n}\n\nexport function debounce(callback: Function, limit: number = 100) {\n  // debounce: _ _ _ _ _ _ _ _ 9\n  // 1. timeout run or reassign\n  let timer = 0;\n\n  return function () {\n    clearTimeout(timer);\n\n    timer = setTimeout(function () {\n      console.log(\"55\");\n      callback.apply(this, arguments);\n    }, limit);\n  };\n}\n\nexport function clone(data: any) {\n  try {\n    // some props may be lost but this is enough for debugging\n    const clone = JSON.parse(JSON.stringify(data));\n    return clone;\n  } catch (e) {\n    return data;\n  }\n}\n\nexport const getRegex = {\n  tag(tag: string) {\n    return new RegExp(`<((${tag})+)([^<]+)*(?:>(.*)</\\\\1>|\\\\s+\\\\/>)`, \"i\");\n  }\n};\n\n// export const replace = {\n//   all(here: string, pattern: string, after: string): string {\n//     const re = new RegExp(pattern, \"i\");\n//     return here.replace(re, after);\n//   },\n//   tag(target: string, tag: string, after: string) {\n//     const pattern = `<((${tag})+)([^<]+)*(?:>(.*)</\\\\1>|\\\\s+\\\\/>)`;\n//     return this.all(target, pattern, after);\n//   },\n//   method(target: string, methodName: string, after: string) {\n//     const pattern = `${methodName}`;\n//     return this.all(target, pattern, after);\n//   }\n// };\n\n/**\n * JSON based object comparison\n *\n * limitations:\n * - key order matters\n * - some types are not representable(dates=>strings, ignores keys with undefined values)\n */\nexport function isDeepEqual(a: any, b: any, ctx?: ListenCtx<any>): boolean {\n  if (!ctx || !Array.isArray(ctx) || !ctx.length) {\n    return JSON.stringify(a) === JSON.stringify(b);\n  }\n\n  return ctx.every((key) => {\n    const left = typeof key === \"function\" ? key(a) : a[key];\n    const right = typeof key === \"function\" ? key(b) : b[key];\n\n    return JSON.stringify(left) === JSON.stringify(right);\n  });\n}\n\nexport function getNode(el: string | Element = \"body\"): Element {\n  let elem;\n\n  if (typeof el !== \"string\") {\n    elem = el;\n  } else if (el.startsWith(\"#\")) {\n    elem = document.getElementById(el.slice(1))!;\n  } else {\n    elem = document.querySelector(el)!;\n  }\n\n  if (!elem) {\n    elem = document.createElement(\"div\");\n    document.body.appendChild(elem);\n  }\n\n  return elem;\n}\n\nexport function createErrorNode(label: string, error: any) {\n  return `<div style=\"background: #ff7f502e; width: max-content;\n  padding: 1rem; border: 1px solid coral;\">\n  <p><b>${`${label}</b>: ${error}`}</p></div>`;\n}\n\nexport function createPersister<T extends Mapped<any>>(\n  adapter: PersistAdapter<T>,\n  name: string,\n  logger?: Logger\n): Persister<T> {\n  return (data: T, initial?: boolean) => {\n    try {\n      if (initial) {\n        let cache: any;\n\n        if (typeof adapter === \"function\") {\n          cache = adapter(data);\n        } else if (adapter === \"indexeddb\") {\n          cache = data; // TODO\n        } else if (adapter === \"websql\") {\n          cache = data; // TODO\n        } else {\n          cache = localStorage.getItem(name);\n          if (cache) cache = JSON.parse(cache);\n        }\n\n        if (typeof cache !== \"object\") {\n          throw new Error(\"No store data found!\");\n        }\n\n        return Object.keys(data).reduce((a: T, k: keyof T) => {\n          a[k] = cache[k] || data[k];\n          return a;\n        }, {} as T);\n      }\n\n      if (typeof adapter === \"function\") {\n        adapter(data);\n      } else if (adapter === \"indexeddb\") {\n        // TODO\n      } else if (adapter === \"websql\") {\n        // TODO\n      } else {\n        localStorage.setItem(name, JSON.stringify(data));\n      }\n\n      return data;\n    } catch (e) {\n      logger?.(e.message, \"warn\");\n      return data;\n    }\n  };\n}\n\nexport function createLogger(name: string): Logger {\n  let label = name;\n\n  const logger: Logger = (message, type = \"log\") => {\n    const title = `[${label || \"Q\"} @ ${new Date().toLocaleTimeString()}]`;\n\n    if (Array.isArray(message) && type === \"log\") {\n      console.groupCollapsed(\n        `%c ${title}`,\n        \"font-weight: 500; font-style: italic;\"\n      );\n      console.log(\"prev:\", message[0]);\n      console.log(\"next:\", message[1]);\n      console.groupEnd();\n    } else {\n      console[type](\n        `%c ${title} %c ${type.toUpperCase()} %c ${message}`,\n        \"font-weight: 500; font-style: italic;\",\n        `font-weight: bold; color: white; background: ${LogTypeColor[type]};`,\n        \"color: inherit;\"\n      );\n    }\n  };\n\n  if (!window.onerror) {\n    // console.log(`\n    //  .d88888b.\n    // d88P\" \"Y88b\n    // 888     888\n    // 888     888\n    // 888     888\n    // 888 Y8b 888\n    // Y88b.Y8b88P\n    // \"Y888888\"\n    //       Y8b`);\n\n    label = \"Q\";\n\n    window.onerror = (e) => {\n      const error = ((e as unknown) as { error: any }).error || e.toString();\n      logger(error, \"error\");\n      return true;\n    };\n\n    label = name;\n  }\n\n  return logger;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import VDom, { withDOM } from \"./VDom\";\nimport { withWatcher } from \"./Observer\";\nimport {\n  ComponentOptions,\n  BindedMethod,\n  IQComponent,\n  Template,\n  Logger,\n  Mapped,\n  QStore,\n  Child,\n  ORIG\n} from \"./types\";\nimport {\n  createErrorNode,\n  createLogger,\n  getRegex,\n  getNode,\n  clone,\n  uid\n} from \"./utils\";\n\n/**  Q Component class  */\n// @withDOM\n@withWatcher\nclass Component<T extends Mapped<any> = Mapped<any>> implements IQComponent<T> {\n  private $el?: Element;\n  private readonly $dom?: VDom;\n  private readonly $watch?: Function;\n  log?: Logger;\n\n  private _state?: T;\n  private _prev_state?: T;\n  readonly data: Mapped<any> = {}; // TODO: hmmm\n  readonly methods: Mapped<BindedMethod<T>> = {}; // TODO: omg\n  private readonly _template: Template<T>;\n  private readonly _children?: Mapped<Child>;\n\n  private readonly _mounted?: Function;\n  private readonly _unmounted?: Function;\n  private readonly _before?: Function;\n  private readonly _after?: Function;\n\n  private readonly _name: string;\n  private _store_subscription?: Function;\n  private _debounce?: number;\n\n  /**\n   * Q Component class\n   * @param {ComponentOptions} options options\n   */\n  constructor(options: ComponentOptions<T>) {\n    // meta options\n    this._name = options?.name || `QComponent_${uid(4)}`;\n    window.$q[this._name] = {};\n\n    // logger\n    if (options?.debug) {\n      this.log = createLogger(this._name);\n    }\n\n    // template\n    this._template = options?.template;\n    if (!this._template) return;\n\n    // reactive state\n    if (options?.state instanceof QStore) {\n      // handle store subscription\n      const [data, revoker] = options.state.subscribe(this);\n      this._store_subscription = revoker;\n      this._state = data;\n    } else if (options?.state) {\n      // handle local state data\n      // @ts-ignore\n      process.nextTick(() => {\n        this._state = this.$watch?.(options.state, this)[0];\n      });\n    }\n\n    // prev state\n    if (this._state) {\n      this._prev_state = clone(this._state);\n    }\n\n    // register methods\n    if (options?.methods) {\n      for (let name in options.methods) {\n        window.$q[this._name][name] = options.methods[name].bind(this);\n        this.methods[name] = options.methods[name].bind(this);\n      }\n    }\n\n    // children components\n    if (options?.children) {\n      this._children = {};\n      for (let name in options.children) {\n        this._children[name] = {\n          vm: options.children[name],\n          inUse: false,\n          id: uid(6)\n        };\n      }\n    }\n\n    // lifecycle hooks\n    this._mounted = options?.mounted;\n    this._unmounted = options?.unmounted;\n    this._before = options?.before;\n    this._after = options?.after;\n\n    // bind render for callback usage\n    this.render = this.render.bind(this);\n  }\n\n  /**\n   * Bind global helper\n   */\n  static use(name: string, fn: Function) {\n    // @ts-ignore\n    Component.prototype[`$${name}`] = fn;\n  }\n\n  /**\n   * State getter\n   */\n  get state(): T {\n    return this._state || ({} as T);\n  }\n\n  /**\n   * Check readiness to mount\n   */\n  private isReady(): boolean {\n    if (!this._template || !(\"call\" in this._template)) {\n      this.log?.(\"Template function is not provided\", \"error\");\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Mount an instance\n   *\n   * @param {String|Element} el root DOM Node\n   * @returns {Q} instance\n   */\n  mount(el: string | Element = \"body\"): this {\n    // early return if allready mounted or not ready\n    if (this.$el || !this.isReady()) return this;\n\n    // set HTML node\n    this.$el = getNode(el);\n\n    // call lifecycle hook\n    try {\n      this._mounted?.();\n    } catch (e) {\n      this.log?.(e, \"error\");\n    }\n\n    // initial render\n    this.dispatch(true);\n\n    return this;\n  }\n\n  /**\n   * Unmount an instance\n   */\n  async unmount() {\n    // remove HTML node\n    this.$el?.remove();\n\n    // clear store subscription\n    this._store_subscription?.();\n\n    // clear binded data\n    delete window.$q[this._name];\n\n    // call lifecycle hook\n    try {\n      await this._unmounted?.();\n    } catch (e) {\n      this.log?.(e, \"error\");\n    }\n  }\n\n  /**\n   * Render dispatcher\n   */\n  dispatch(initial?: boolean) {\n    // update previous state\n    const { _prev_state } = this;\n    this._prev_state = clone(this.state);\n\n    // call a lifecycle hook before rendering to update the\n    // computed values and potentially prevent rendering\n    if (!initial && this._before?.(_prev_state)) return;\n\n    // cancel pending renders\n    if (this._debounce) {\n      cancelAnimationFrame(this._debounce);\n    }\n\n    // fire new render at the next animation frame\n    this._debounce = requestAnimationFrame(this.render);\n  }\n\n  /**\n   * Render\n   */\n  private render() {\n    if (!this.$el) return;\n\n    const start = Date.now();\n    let templateStr;\n\n    // feed template with actual data\n    try {\n      // Render dispatch and state mutations are prevented(infinite loop).\n      const plainState = this.state[ORIG] || this.state;\n      templateStr = this._template.call(null, this.data, plainState);\n    } catch (e) {\n      // render error node in case of template call error\n      templateStr = createErrorNode(this._name, e);\n      this.log?.(e, \"error\");\n    }\n\n    // replace methods declarations\n    if (this.methods) {\n      for (let name in this.methods) {\n        if (!templateStr.includes(name)) continue;\n        const path = `$q.${this._name}.${name}`;\n        templateStr = templateStr.replaceAll(name, path);\n      }\n    }\n\n    // replace children component tags with actual dom nodes\n    if (this._children) {\n      for (let name in this._children) {\n        if (!templateStr.includes(name)) continue;\n        const node = `<div id=\"${this._children[name].id}\"></div>`;\n        templateStr = templateStr.replace(getRegex.tag(name), node);\n        this._children[name].inUse = true;\n        // this._children[name].vm.unmount();\n      }\n    }\n\n    // console.log(templateStr);\n    // inject template in dom\n    if (!this.$dom) {\n      // direct inject\n      this.$el.innerHTML = templateStr;\n    } else {\n      // inject through virtual dom\n      const templateHTML = this.$dom.stringToHTML(templateStr);\n      this.$dom.diff(templateHTML as HTMLElement, this.$el as Node);\n    }\n\n    // mount children\n    if (this._children) {\n      for (let name in this._children) {\n        const { inUse, id, vm } = this._children[name];\n        if (inUse) vm.mount(`#${id}`);\n      }\n    }\n\n    if (this.log) {\n      const len = templateStr.length;\n      const text = `render ${len} chars in ${Date.now() - start} ms`;\n      this.log(text);\n    }\n\n    // call a lifecycle hook after rendering to check watched cases\n    this._after?.();\n  }\n}\n\nexport default Component;\n","import { clone, createLogger, createPersister, isDeepEqual } from \"./utils\";\nimport { withWatcher } from \"./Observer\";\nimport {\n  StoreOptions,\n  IObservable,\n  Persister,\n  Listeners,\n  ListenCtx,\n  QStore,\n  Setter,\n  Getter,\n  Logger,\n  Mapped,\n  PROXY,\n  ORIG\n} from \"./types\";\n\n/** Q Store class */\n@withWatcher\nclass Store<\n  T extends Mapped<any> = Mapped<any>,\n  G extends Mapped<Getter<T>> = Mapped<Getter<T>>,\n  S extends Mapped<Setter<T>> = Mapped<Setter<T>>\n> extends QStore<T, G, S> {\n  private _data: T;\n  private _prev_data: T;\n  private readonly _name: string;\n  private readonly _immutable?: boolean;\n  private _listeners: Listeners<T> = new Map();\n  private _temp_deps?: ListenCtx<T>;\n  private readonly $watch?: Function;\n  private readonly _getters?: G;\n  private readonly _setters?: S;\n  private persist?: Persister<T>;\n  private log?: Logger;\n\n  /**\n   * Q Store class\n   * @param {StoreOptions} options store options\n   */\n  constructor(options: StoreOptions<T, G, S>) {\n    super();\n\n    // meta options\n    this._name = options?.name || \"QStore\";\n    this._immutable = options?.immutable;\n\n    // logger\n    if (options?.debug) {\n      this.log = createLogger(this._name);\n    }\n\n    // reactive data\n    this._data = options?.data || ({} as T); // TODO: no type cast\n    if (!options?.data) {\n      this.log?.(\"No data was provided\", \"warn\");\n    }\n\n    // prev data\n    this._prev_data = this._data;\n\n    // getters\n    this._getters = options?.getters;\n\n    // setters\n    this._setters = options?.setters;\n\n    // persister\n    if (!!options?.persist) {\n      this.persist = createPersister<T>(options.persist, this._name, this.log);\n      // load cached data\n      this._data = this.persist(this._data, true);\n    }\n  }\n\n  /**\n   * Data getter\n   */\n  get data(): T {\n    // prevent direct data change\n    return this._immutable ? clone(this._data) : this._data;\n  }\n\n  /**\n   * Getter\n   *\n   * @param {string} getter getter name\n   * @param {any} payload payload\n   * @returns {T[any] | undefined}\n   */\n  get(getter: keyof G, payload?: any): T[any] | undefined {\n    if (!this._getters?.[getter]) {\n      this.log?.(`unknown getter ${getter}`, \"warn\");\n    }\n\n    return this._getters?.[getter](this.data, payload);\n  }\n\n  /**\n   * Setter\n   *\n   * @param {string} setter setter name\n   * @param {any} payload payload\n   */\n  set(setter: keyof S, payload: any) {\n    if (!this._setters?.[setter]) {\n      this.log?.(`unknown setter ${setter}`, \"warn\");\n    }\n\n    this._setters?.[setter](this._data, payload);\n  }\n\n  /**\n   * Update reducer\n   *\n   * @param {ListenCtx} deps props selectors\n   * @returns {this} store\n   */\n  rewatch(deps: ListenCtx<T>): this {\n    this._temp_deps = deps;\n\n    return this;\n  }\n\n  /**\n   * Store subscription\n   *\n   * @param {IObservable} listener listener\n   * @returns {Function} unsubscribe function\n   */\n  subscribe(listener: IObservable): [T, Function] {\n    // add listener\n    this._listeners.set(listener, this._temp_deps);\n    this._temp_deps = undefined;\n\n    // run watcher\n    if (!this._data[PROXY]) {\n      this._data = this.$watch?.(this._data, this)[0];\n    }\n\n    return [this.data, () => this._listeners.delete(listener)];\n  }\n\n  /**\n   * Dispatch subscriptions update\n   */\n  dispatch() {\n    // dispatch listeners\n    for (let [listener, deps] of this._listeners) {\n      if (!deps || !isDeepEqual(this._data[ORIG], this._prev_data, deps)) {\n        listener.dispatch();\n      }\n    }\n\n    // log\n    this.log?.([this._prev_data, this._data[ORIG]]);\n\n    // persist\n    this.persist?.(this._data[ORIG]);\n\n    // update previous data\n    this._prev_data = clone(this._data);\n  }\n}\n\nexport default Store;\n","/**\n * .d88888b.\n * d88P\" \"Y88b\n * 888     888\n * 888     888\n * 888     888\n * 888 Y8b 888\n * Y88b.Y8b88P\n *  \"Y888888\"\n *        Y8b\n */\n\nimport Q from \"./Component\";\nexport { default as Store } from \"./Store\";\nexport * from \"./utils\";\nexport * from \"./types\";\n\nif (!window.$q) window.$q = {};\n\nexport default Q;\n","import { Getter, Setter, Store } from \"../../dist\";\n\nexport type AppStore = {\n  freeze: boolean;\n  sort?: \"date\" | \"actualize\";\n  todos: { id: number; text: string; done: boolean; endsAt?: string }[];\n  // k: { i: number };\n};\n\ntype AppGetters = {\n  todosByDate: Getter<AppStore>;\n};\n\ntype AppSetters = {\n  deleteTodosByDate: Setter<AppStore>;\n};\n\nexport default new Store<AppStore, AppGetters, AppSetters>({\n  debug: true,\n  persist: \"localstorage\",\n  // immutable: true,\n  data: {\n    freeze: false,\n    todos: []\n    // k: { i: 9 }\n  },\n  getters: {\n    todosByDate(data, date) {\n      return data.todos.filter((t) => t.endsAt === date);\n    }\n  },\n  setters: {\n    deleteTodosByDate(data, date) {\n      data.todos = data.todos.filter((t) => t.endsAt === date);\n    }\n  }\n});\n","import Q from \"../../../dist\";\nimport store from \"../store\";\n\nexport default new Q({\n  name: \"Form\",\n  debug: true,\n  state: {\n    canAdd: false,\n    freeze: false,\n    sort: \"priority\"\n  },\n  template({ text, date, renders }, { canAdd, freeze, sort }) {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const isChecked = freeze ? \"checked\" : \"\";\n    const isDisabled = canAdd ? \"\" : \"disabled\";\n    const sortOptions = [\"date\", \"priority\"].reduce((str, opt) => {\n      const selected = sort === opt ? \"selected\" : \"\";\n      return str + `<option ${selected} value=\"${opt}\">${opt}</option>`;\n    }, \"\");\n\n    return `<section style=\"border: 2px solid pink;\"\n    <small><small>renders: ${renders}</small></small>\n    <br />\n    <div style=\"margin: 0.5rem 1rem;\">\n      <div style=\"height: 1.8rem; display: flex; margin-bottom: 5px; border: 3px solid #ab9296;\">\n        <input style=\"flex: 1; border: 0; padding: 0 1rem; outline: none;\" value=\"${text}\" oninput=\"onChange(this.value);\"/>\n        <input style=\"width: 57px; border: 0; cursor: pointer; padding-right: 10px; outline: none;\" type=\"date\"\n          oninput=\"onSetDate(this.value)\" value=\"${date}\" min=\"${today}\">\n        <button style=\"border: 0; width: 50px; cursor: pointer; background-color: transparent;\n          border-left: 2px solid #ab9296;\" ${isDisabled} onclick=\"onSubmit()\"> ADD </button>\n      </div>\n      <div style=\"display: flex; align-items: center; justify-content: space-between;\">\n        <input type=\"checkbox\" ${isChecked} onclick=\"onFreezeToggle()\"><small style=\"flex: 1;\">&nbspfreeze list</small>\n        <small>sort by&nbsp;</small><select onchange=\"onSort(this.val)\">${sortOptions}</select>\n      </div>\n    </div>\n    </section>`;\n  },\n  methods: {\n    async onSubmit() {\n      const { text, date } = this.data;\n      if (!text.length) return;\n\n      if (this.state.freeze && !(await this.$warn(\"a u sure?\"))) {\n        return;\n      }\n\n      store.data.todos.push({\n        endsAt: date,\n        id: Date.now(),\n        done: false,\n        text\n      });\n\n      this.data.text = \"\";\n      this.state.canAdd = false;\n    },\n    onChange(val: string) {\n      this.data.text = val;\n\n      if (val.length && !this.state.canAdd) {\n        this.state.canAdd = true;\n      } else if (!val.length && this.state.canAdd) {\n        this.state.canAdd = false;\n      }\n    },\n    onSetDate(val) {\n      this.data.date = val;\n    },\n    onSort(val) {\n      this.state.sort = val;\n    },\n    onFreezeToggle() {\n      this.state.freeze = !this.state.freeze;\n    },\n    onKeyDown(key: KeyboardEvent) {\n      if (key.code === \"Enter\" || key.code === \"NumpadEnter\") {\n        this.methods.onSubmit();\n      }\n    }\n  },\n  before(prev) {\n    this.data.renders++;\n  },\n  mounted() {\n    this.data.renders = 1;\n    this.data.text = \"\";\n    this.data.date = new Date().toISOString().split(\"T\")[0];\n    document.addEventListener(\"keydown\", this.methods.onKeyDown);\n  },\n  unmounted() {\n    document.removeEventListener(\"keydown\", this.methods.onKeyDown);\n  }\n});\n","const MS_PER_DAY = 1000 * 60 * 60 * 24;\n\nexport function asyncConfirm(msg = \"warning\") {\n  return new Promise(function (go) {\n    let confirmed = window.confirm(msg);\n\n    return confirmed ? go(true) : go(false);\n  });\n}\n\nexport function formatDatesDiff(from: string, to?: string) {\n  if (!from) return;\n\n  const a = new Date(from);\n  const b = to ? new Date(to) : new Date();\n\n  const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n  const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n  const diff = Math.floor((utc1 - utc2) / MS_PER_DAY);\n\n  if (!diff) return \"today\";\n  if (diff < 0) return `${Math.abs(diff)}d ago`;\n  return `after ${diff}d`;\n}\n","import Q from \"../../../dist\";\nimport { formatDatesDiff } from \"../helpers\";\nimport store from \"../store\";\n// import Item from \"./item\";\n\nexport default new Q({\n  name: \"List\",\n  debug: true,\n  state: store.rewatch([\"todos\"]),\n  children: {\n    // Item\n  },\n  template({ renders }, { todos }) {\n    const item = ({ id, text, done, endsAt }: any, idx: number) => {\n      const content = done ? `<del>${text}</dev>` : text;\n      const secondary = done ? \"opacity: 0.3\" : \"\";\n      const daysLeft = formatDatesDiff(endsAt);\n      return `<li style=\"display: flex; align-items: center; border: 2px solid #ab9296; padding: 6px; margin-bottom: 13px; cursor: pointer; ${secondary}\">\n        <span style=\"flex-grow: 1; text-align: left; margin: 0 1rem;\" onclick=\"onToggleDone(${idx})\">${content}</span>\n        <span style=\"background-color: #eee; padding: 2px 4px; color: #7d7d7d; \"><small><b>${daysLeft}</b></small></span>\n        <span style=\"font-weight: bolder; width: 1.5rem; font-size: 1.5rem; line-height: 1.5rem;\"onclick=\"onRemove(${id})\">&times;</span>\n      </li>`;\n    };\n\n    return `<section style=\"border: 2px solid pink;\">\n      <small>renders: ${renders}</small>\n      <ul style=\"list-style: none; padding-inline-start: 0; text-align: center; margin: 1rem;\">${\n        todos.length ? todos.map(item).join(\"\") : \"There are no todos\"\n      }</ul>\n      </section>`;\n  },\n  methods: {\n    onToggleDone(idx: number) {\n      this.state.todos[idx].done = !this.state.todos[idx].done;\n    },\n    onRemove(id: number) {\n      this.state.todos = this.state.todos.filter((t: any) => t.id !== id);\n    }\n  },\n  before() {\n    this.data.renders++;\n  },\n  mounted() {\n    this.data.renders = 1;\n  }\n});\n","import Q from \"../../dist\";\nimport Form from \"./components/form\";\nimport List from \"./components/list\";\nimport { asyncConfirm } from \"./helpers\";\n\n// add global helpers\nQ.use(\"warn\", asyncConfirm);\n\n// entry point\nnew Q({\n  name: \"App\",\n  // debug: true,\n  // state: {\n  //   i: 0\n  // },\n  children: { Form, List },\n  template({ renders }) {\n    return `<section style=\"border: 2px dashed pink;width: 450px;margin: 2rem auto;\">\n      <small>renders: ${renders}</small>\n      <br/>\n      <div style=\"padding: 1rem;\">\n        <Form />\n        <Form />\n        <br/>\n        <List />\n      </div>\n      </section>`;\n  },\n  // methods: {\n  //   gg() {\n  //     this.state.i++;\n  //   }\n  // },\n  before(prevState) {\n    this.data.renders++;\n    // recompute any properties here\n    // render prevention also goes here with returning true\n  },\n  after() {\n    // watch side effects here\n  },\n  mounted() {\n    // initial bindings go here\n    this.data.renders = 1;\n    // async function fetchTodos() {\n    //   await wait(5000);\n    //   store.data.todos.push(99)\n    // }\n    // fetchTodos();\n  },\n  unmounted() {\n    // side effects clearance go here\n    // this.log?.(\"before removed\");\n    // clearInterval(this.data.interval);\n    // await wait(5000);\n    // this.log?.(\"after removed\");\n  }\n}).mount(\"#app\");\n"]}